class MenuUS11TradingPsychologyGuide:
SUB_MENU_ALL_TRADING_PSYCHOLOGY_GUIDE = (By.CSS_SELECTOR, ".cc-header a[href$='/trading-psychology-guide']")
SUB_MENU_AR_TRADING_PSYCHOLOGY_GUIDE = (By.CSS_SELECTOR, ".cc-header a[href$='/ar']")
SUB_MENU_DE_TRADING_PSYCHOLOGY_GUIDE = (By.CSS_SELECTOR, ".cc-header a[href$='/de']")
SUB_MENU_EL_TRADING_PSYCHOLOGY_GUIDE = (By.CSS_SELECTOR, ".cc-header a[href$='/el']")
SUB_MENU_ES_TRADING_PSYCHOLOGY_GUIDE = (By.CSS_SELECTOR, ".cc-header a[href$='/es']")
SUB_MENU_FR_TRADING_PSYCHOLOGY_GUIDE = (By.CSS_SELECTOR, ".cc-header a[href$='/fr']")
SUB_MENU_IT_TRADING_PSYCHOLOGY_GUIDE = (By.CSS_SELECTOR, ".cc-header a[href$='/it']")
SUB_MENU_HU_TRADING_PSYCHOLOGY_GUIDE = (By.CSS_SELECTOR, ".cc-header a[href$='/hu']")
SUB_MENU_NL_TRADING_PSYCHOLOGY_GUIDE = (By.CSS_SELECTOR, ".cc-header a[href$='/nl']")
SUB_MENU_PL_TRADING_PSYCHOLOGY_GUIDE = (By.CSS_SELECTOR, ".cc-header a[href$='/pl']")
SUB_MENU_RO_TRADING_PSYCHOLOGY_GUIDE = (By.CSS_SELECTOR, ".cc-header a[href$='/ro']")
SUB_MENU_RU_TRADING_PSYCHOLOGY_GUIDE = (By.CSS_SELECTOR, ".cc-header a[href$='/ru']")
SUB_MENU_ZH_TRADING_PSYCHOLOGY_GUIDE = (By.CSS_SELECTOR, ".cc-header a[href$='/zh']")
SUB_MENU_CN_TRADING_PSYCHOLOGY_GUIDE = (By.CSS_SELECTOR, ".cc-header a[href$='/cn']")

class MenuUS11DayTrading:
SUB_MENU_ALL_DAY_TRADING = (By.CSS_SELECTOR, ".cc-header a[href$='/day-trading']")
SUB_MENU_DE_DAY_TRADING = (By.CSS_SELECTOR, ".cc-header a[href='https://capital.com/de/daytrading']")
SUB_MENU_ES_DAY_TRADING = (By.CSS_SELECTOR, ".cc-header a[href='https://capital.com/es/trading-diario']")


class MenuUS11IndicesTrading:
SUB_MENU_ALL_INDICES_TRADING = (By.CSS_SELECTOR, ".cc-header a[href$='/trade-indices']")
SUB_MENU_ID_INDICES_TRADING = (By.CSS_SELECTOR, ".cc-header a[href$='/id/panduan-perdagangan-indeks']")
SUB_MENU_DE_INDICES_TRADING = (By.CSS_SELECTOR, ".cc-header a[href$='/de/indizeshandel']")
SUB_MENU_RU_INDICES_TRADING = (By.CSS_SELECTOR, ".cc-header a[href$='/ru/torgovlya-indeksami-cfd']")

class MenuUS11TradingStrategiesGuide:

# SUB_MENU_EN_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
#                                         "div .grid > a[href='https://capital.com/trading-strategies-guide']")
SUB_MENU_AR_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/ar/trading-strategies-guide']")
# SUB_MENU_BG_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
#                                         "div .grid > a[href='https://capital.com/bg/trading-strategies-guide']")
SUB_MENU_CS_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/cs/trading-strategies-guide']")
SUB_MENU_DA_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/da/trading-strategies-guide']")
SUB_MENU_DE_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/de/trading-strategien-leitfaden']")
SUB_MENU_ET_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/et/trading-strategies-guide']")
SUB_MENU_EL_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/el/trading-strategies-guide']")
SUB_MENU_ES_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                         "div .grid > a[href='https://capital.com/es/trading-strategies-guide']")
SUB_MENU_FR_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/fr/trading-strategies-guide']")
SUB_MENU_HR_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/hr/trading-strategies-guide']")
SUB_MENU_IT_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/it/guida-alle-strategie-di-trading']")
SUB_MENU_LV_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/lv/trading-strategies-guide']")
SUB_MENU_LT_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/lt/trading-strategies-guide']")
SUB_MENU_HU_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/hu/trading-strategies-guide']")
SUB_MENU_ID_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/id/trading-strategies-guide']")
SUB_MENU_NL_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/nl/trading-strategies-guide']")
SUB_MENU_PL_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/pl/trading-strategies-guide']")
SUB_MENU_PT_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/pt/trading-strategies-guide']")
SUB_MENU_RO_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/ro/trading-strategies-guide']")
SUB_MENU_RU_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/ru/torgovye-strategii']")
SUB_MENU_SK_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/sk/trading-strategies-guide']")
SUB_MENU_SL_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/sl/trading-strategies-guide']")
SUB_MENU_FI_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/fi/trading-strategies-guide']")
SUB_MENU_SV_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/sv/trading-strategies-guide']")
SUB_MENU_VI_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/vi/trading-strategies-guide']")
SUB_MENU_ZH_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/zh/trading-strategies-guide']")
SUB_MENU_TH_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/th/trading-strategies-guide']")
SUB_MENU_CN_TRADING_STRATEGIES_GUIDE = (By.CSS_SELECTOR,
                                        "div .grid > a[href='https://capital.com/cn/trading-strategies-guide']")

@allure.step("Start test of buttons [Trade] in Most traded block")
def test_11_03_01_06_most_traded_trade_button(
        self, worker_id, d, cur_language, cur_country, cur_role, cur_login, cur_password, prob_run_tc):
    """
    Check: Button [Trade] in Most traded block
    Language: All. License: All.
    """
    print(f"\n{datetime.now()}   Работает obj {self} с именем TC_11.03.01_06")
    build_dynamic_arg_v2(self, d, worker_id, cur_language, cur_country, cur_role, prob_run_tc,
                         "11.03.01", "Educations > Menu item [Trading Strategies Guides]",
                         "06", "Testing button [Trade] in Most traded block")

    if cur_country == 'gb':
        pytest.skip("This test is not supported on UK location")

    page_conditions = Conditions(d, "")
    link = page_conditions.preconditions(
        d, CapitalComPageSrc.URL, "", cur_language, cur_country, cur_role, cur_login, cur_password)

    page_menu = MenuSection(d, link)
    page_menu.menu_education_move_focus(d, cur_language)
    link = page_menu.sub_menu_trading_strategies_guide_move_focus_click(d, cur_language)

    test_element = ButtonTradeOnWidgetMostTraded(d, link)
    test_elements_list = test_element.arrange_v2_()
    for index, element in enumerate(test_elements_list):
        print(f"\n{datetime.now()}   Testing element #{index + 1}")
        if not test_element.element_click_v2(element):
            pytest.fail("Testing element is not clicked")
        check_element = AssertClass(d, link)
        match cur_role:
            case "NoReg":
                check_element.assert_signup(d, cur_language, link)
            case "Reg/NoAuth":
                check_element.assert_login(d, link)
            case "Auth":
                check_element.assert_trading_platform_v2(d, link)

    @allure.step(f"{datetime.now()}.   Click 'Day Trading' hyperlink.")
def sub_menu_day_trading_move_focus_click(self, d, test_language):
    match test_language:
        case "de":
            menu = d.find_elements(*MenuUS11DayTrading.SUB_MENU_DE_DAY_TRADING)
        case "es":
            menu = d.find_elements(*MenuUS11DayTrading.SUB_MENU_ES_DAY_TRADING)
        case _:
            menu = d.find_elements(*MenuUS11DayTrading.SUB_MENU_ALL_DAY_TRADING)

    if len(menu) > 0:
        ActionChains(d) \
            .move_to_element(menu[0]) \
            .click() \
            .perform()
    else:
        pytest.skip(f"For test language '{test_language}' "
                    f"the page \"Education->Day Trading\" doesn't exist on production")
    return d.current_url

@allure.step(f"{datetime.now()}.   Click 'Indices Trading' hyperlink.")
def sub_menu_indices_trading_move_focus_click(self, d, test_language):
    match test_language:
        case "id":
            menu = d.find_elements(*MenuUS11IndicesTrading.SUB_MENU_ID_INDICES_TRADING)
        case "de":
            menu = d.find_elements(*MenuUS11IndicesTrading.SUB_MENU_DE_INDICES_TRADING)
        case "ru":
            menu = d.find_elements(*MenuUS11IndicesTrading.SUB_MENU_RU_INDICES_TRADING)
        case _:
            menu = d.find_elements(*MenuUS11IndicesTrading.SUB_MENU_ALL_INDICES_TRADING)

    if len(menu) > 0:
        ActionChains(d) \
            .move_to_element(menu[0]) \
            .click() \
            .perform()
        print(f"\n\n{datetime.now()}   => Indices Trading menu click")
    else:
        pytest.skip(f"For test language '{test_language}' "
                    f"the page \"Education->Indices Trading\" doesn't exist on production")
    return d.current_url

@allure.step(f"{datetime.now()}.   Click 'Trading Psychology Guide' hyperlink.")
def sub_menu_trading_psychology_guide_move_focus_click(self, d, test_language):
        match test_language:
  case "":
      menu = d.find_elements(*MenuUS11TradingPsychologyGuide.SUB_MENU_ALL_INDICES_TRADING)
  case "ar":
      menu = d.find_elements(*MenuUS11TradingPsychologyGuide.SUB_MENU_AR_INDICES_TRADING)
  case "de":
      menu = d.find_elements(*MenuUS11TradingPsychologyGuide.SUB_MENU_DE_INDICES_TRADING)
  case "el":
      menu = d.find_elements(*MenuUS11TradingPsychologyGuide.SUB_MENU_EL_INDICES_TRADING)
  case "es":
      menu = d.find_elements(*MenuUS11TradingPsychologyGuide.SUB_MENU_ES_INDICES_TRADING)
    case "fr":
      menu = d.find_elements(*MenuUS11TradingPsychologyGuide.SUB_MENU_FR_INDICES_TRADING)
  case "it":
      menu = d.find_elements(*MenuUS11TradingPsychologyGuide.SUB_MENU_IT_INDICES_TRADING)
  case "hu":
      menu = d.find_elements(*MenuUS11TradingPsychologyGuide.SUB_MENU_HU_INDICES_TRADING)
  case "nl":
      menu = d.find_elements(*MenuUS11TradingPsychologyGuide.SUB_MENU_NL_INDICES_TRADING)
  case "pl":
      menu = d.find_elements(*MenuUS11TradingPsychologyGuide.SUB_MENU_PL_INDICES_TRADING)
  case "ro":
      menu = d.find_elements(*MenuUS11TradingPsychologyGuide.SUB_MENU_RO_INDICES_TRADING)
  case "ru":
      menu = d.find_elements(*MenuUS11TradingPsychologyGuide.SUB_MENU_RU_INDICES_TRADING)
  case "zh":
      menu = d.find_elements(*MenuUS11TradingPsychologyGuide.SUB_MENU_ZH_INDICES_TRADING)
  case "cn":
      menu = d.find_elements(*MenuUS11TradingPsychologyGuide.SUB_MENU_CN_INDICES_TRADING)
if len(menu) > 0:
    ActionChains(d) \
        .move_to_element(menu[0]) \
        .click() \
        .perform()
    print(f"\n\n{datetime.now()}   => Trading Psychology Guide menu click")
else:
    pytest.skip(f"For test language '{test_language}' "
                f"the page \"Education->Trading Psychology Guide\" doesn't exist on production")
return d.current_url
        
                    


